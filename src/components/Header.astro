<div class="header" transition:persist>
  <a href="https://bryanboucher.com" class="flex align-end" style="text-decoration: none; color: inherit;">
    <h1>BRYAN BOUCHER</h1>
  </a>
  <a href="https://bryanboucher.com" class="flex headshot-container">
    <img
      src="https://bryanboucher.com/assets/img/my-headshot-large-sq.webp"
      alt="Black and white headshot of Bryan"
      class="headshot"
    />
  </a>
</div>

<section class="scroll-nav-wrapper flex" transition:persist>
  <nav class="scroll-nav flex">
        <div role="list" class="scroll-nav-list-slider flex">
          <div
            class="nav-item-wrapper"
          >
            <li class="nav-item">
              <a data-id="nav-link" href="/"
                >About</a
              >
            </li>
          </div>
          <div
            class="nav-item-wrapper"
          >
            <li class="nav-item">
              <a
                data-id="nav-link"
                href="/resume/">Resume</a
              >
            </li>
          </div>
          <div
            class="nav-item-wrapper"
          >
            <li class="nav-item">
              <a
                data-id="nav-link"
                href="/contact/">Contact</a
              >
            </li>
          </div>
    </div>
  </nav>
</section>
<script>
  function updateNavState() {
    // Get the current path of the page
    const currentPath = window.location.pathname;

    // Select all <li> elements that contain nav links
    const navItems = document.querySelectorAll(".nav-item");

    navItems.forEach((item) => {
      // Find the nested <a> inside the <li>
      const link = item.querySelector("a");

      // Check if the link's href matches the current path
      if (link && link.getAttribute("href") === currentPath) {
        // Add the selected-state class to the <li>
        item.classList.add("nav-item__selected");
      } else {
        // Remove the class if it doesn't match (useful if state changes)
        item.classList.remove("nav-item__selected");
      }
    });
  }

  // Run the function on initial load
  document.addEventListener("DOMContentLoaded", updateNavState);

  // Run the function after each view transition completes
  document.addEventListener("astro:after-swap", updateNavState);
</script>
