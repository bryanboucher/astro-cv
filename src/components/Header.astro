<div class="header" transition:persist>
  <div class="flex align-end">
    <h1 class="raleway-h1">Bryan<br />Boucher</h1>
  </div>
  <div class="flex headshot-container">
    <img
      src="./assets/img/my-headshot-large-sq.webp"
      alt="Black and white headshot of Bryan"
      class="headshot"
    />
  </div>
</div>

<section class="scroll-nav-wrapper flex" transition:persist>
  <nav class="scroll-nav flex">
        <div role="list" class="scroll-nav-list-slider flex">
          <div
            class="nav-item-wrapper"
          >
            <li class="nav-item">
              <a data-id="nav-link" href="/"
                >About</a
              >
            </li>
          </div>
          <div
            class="nav-item-wrapper"
          >
            <li class="nav-item">
              <a
                data-id="nav-link"
                href="/resume">Resume</a
              >
            </li>
          </div>
          <div
            class="nav-item-wrapper"
          >
            <li class="nav-item">
              <a
                data-id="nav-link"
                href="/contact">Contact</a
              >
            </li>
          </div>
    </div>
  </nav>
  <script>
    function updateNavState() {
      // Get the current path of the page
      const currentPath = window.location.pathname;
  
      // Select all <li> elements that contain nav links
      const navItems = document.querySelectorAll(".nav-item");
  
      navItems.forEach((item) => {
        // Find the nested <a> inside the <li>
        const link = item.querySelector("a");
  
        // Check if the link's href matches the current path
        if (link && link.getAttribute("href") === currentPath) {
          // Add the selected-state class to the <li>
          item.classList.add("nav-item__selected");
        } else {
          // Remove the class if it doesn't match (useful if state changes)
          item.classList.remove("nav-item__selected");
        }
      });
    }
  
    // Run the function on initial load
    document.addEventListener("DOMContentLoaded", updateNavState);
  
    // Run the function after each view transition completes
    document.addEventListener("astro:after-swap", updateNavState);
  </script>
</section>

