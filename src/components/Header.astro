<div class="header" transition:persist>
  <div class="name-lockup">
    <a
      href="https://bryanboucher.com"
      class="flex align-center"
      style="text-decoration: none; color: inherit;"
    >
      <h1>Bryan Boucher</h1>
    </a>
    <a href="https://bryanboucher.com" class="flex headshot-container">
      <img
        src="https://bryanboucher.com/assets/img/my-headshot-large-sq.webp"
        alt="Black and white headshot of Bryan"
        class="flex headshot"
      />
    </a>
  </div>
</div>
<section class="scroll-nav-wrapper menu flex sticky" transition:persist>
  <div class="scroll-nav-fw-bg"></div>
  <nav class="scroll-nav flex">
    <div role="list" class="scroll-nav-list-slider flex align-center">
      <div class="nav-item-wrapper">
        <li class="nav-item">
          <a data-id="nav-link" href="/">About</a>
        </li>
      </div>
      <div class="nav-item-wrapper">
        <li class="nav-item">
          <a data-id="nav-link" href="/resume/"> Work Bio</a>
        </li>
      </div>
      <div class="nav-item-wrapper">
        <li class="nav-item">
          <a data-id="nav-link" href="/now/">Now & Next</a>
        </li>
      </div>
    </div>
  </nav>
</section>
<section class="contact scroll-nav-wrapper flex" transition:persist>
  <div class="scroll-nav-fw-bg"></div>
  <nav class="scroll-nav flex">
    <div role="list" class="scroll-nav-list-slider flex align-center">
      <div class="nav-item-wrapper flex">
        <li class="nav-item contact-item flex align-center">
          Email:
          <a
            data-id="contact-link"
            class="flex align-center"
            href="mailto:bryanhboucher@gmail.com"
            ><img
              src="/assets/img/right-arrow.svg"
              alt=""
              class="button-right-arrow-before"
            />bryanhboucher@gmail.com</a
          >
        </li>
      </div>
      <div class="nav-item-wrapper">
        <li class="nav-item contact-item flex align-center">
          LinkedIn:
          <a
            data-id="contact-link"
            class="flex align-center"
            href="https://www.linkedin.com/in/bryan-boucher-04078389/"
            target="_blank"
            rel="noopener noreferrer"
            ><img
              src="/assets/img/right-arrow.svg"
              alt=""
              class="button-right-arrow-before"
            />/bryan-boucher-04078389</a
          >
        </li>
      </div>
    </div>
    <div class="list-slider-shadow-end"></div>
  </nav>
</section>
<script>
  function updateNavState() {
    // Get the current path of the page
    const currentPath = window.location.pathname;

    // Select all <li> elements that contain nav links
    const navItems = document.querySelectorAll(".nav-item");

    navItems.forEach((item) => {
      // Find the nested <a> inside the <li>
      const link = item.querySelector("a");

      // Check if the link's href matches the current path
      if (link && link.getAttribute("href") === currentPath) {
        // Add the selected-state class to the <li>
        item.classList.add("nav-item__selected");
      } else {
        // Remove the class if it doesn't match (useful if state changes)
        item.classList.remove("nav-item__selected");
      }
    });
  }

  // Run the function on initial load
  document.addEventListener("DOMContentLoaded", updateNavState);

  // Run the function after each view transition completes
  document.addEventListener("astro:after-swap", updateNavState);
</script>
